<!DOCTYPE html>
{{- template "head.gohtml" (dict "Title" "Ball SVG") -}}

<style>
  svg {
    width: 500px;
    height: 500px;
  }
</style>

{{- template "focusOne.gohtml" . }}
{{define "body" }}
  <header>
    <h1>立體球</h1>
  </header>

  <div>
    <h3>Stop Color</h3>
    <label>1</label>
    <input type="color" class="color-picker" data-id="1" value="#ffffff" title="Choose your color">

    <label>2</label>
    <input type="color" class="color-picker" data-id="2" value="#99ff99" title="Choose your color">

    <label>3</label>
    <input type="color" class="color-picker" data-id="3" value="#337733" title="Choose your color">

    <label>4</label>
    <input type="color" class="color-picker" data-id="4" value="#000000" title="Choose your color">
  </div>

  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
    <defs>
      <radialGradient id="r1" cx=".3" cy=".3" r=".7">
        <stop id="stop-1" offset="0%" stop-color="white"></stop>
        <stop id="stop-2" offset="30%" stop-color="#9f9"></stop>
        <stop id="stop-3" offset="70%" stop-color="#373"></stop>
        <stop id="stop-4" offset="100%" stop-color="black"></stop>
      </radialGradient>
    </defs>
    <circle cx="50" cy="50" r="25" fill="url(#r1)"/>
  </svg>
{{end -}}

<script>

  const dqs = (name) => document.querySelector(name);

  [...document.querySelectorAll(`input[class="color-picker"]`)].forEach(inputElem => {
    inputElem.onchange = (e) => {
      const stopElem = dqs(`#stop-${inputElem.dataset.id}`)
      stopElem.setAttribute("stop-color", inputElem.value)
    }
  })
</script>
